{"ast":null,"code":"\"use client\";import{memo}from\"react\";import{Handle,Position}from\"reactflow\";import{Check,FileText}from\"lucide-react\";import{cn}from\"../lib/utils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseNode=/*#__PURE__*/memo(_ref=>{let{data,isConnectable,selected}=_ref;const{label,code,description,category,credits,completed,nodeColor,nodeBgColor,fontFamily,fontSize,textColor,showQuickToggle,onQuickToggle,id,completedAt}=data;// Find the category color from the categories array or use custom node color\nconst categoryData=data.categoryData||{color:\"#94a3b8\"};const borderColor=nodeColor||categoryData.color;// Text styling\nconst textStyle={fontFamily:fontFamily||\"inherit\",fontSize:fontSize?\"\".concat(fontSize,\"px\"):undefined,color:textColor||\"inherit\"};// Handle quick toggle click with proper event stopping\nconst handleQuickToggleClick=e=>{e.stopPropagation();if(onQuickToggle&&id){onQuickToggle(id,!completed);}};// Format completion date\nconst formattedCompletionDate=completedAt?new Date(completedAt).toLocaleDateString()+\" \"+new Date(completedAt).toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"}):null;return/*#__PURE__*/_jsxs(\"div\",{className:cn(\"px-4 py-2 shadow-md rounded-md border w-48 bg-card transition-colors duration-300\",completed&&\"ring-2 ring-primary ring-offset-2\",selected&&\"ring-2 ring-primary ring-offset-2\"),style:{borderLeftColor:borderColor,borderLeftWidth:\"4px\",backgroundColor:nodeBgColor||undefined},children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Top,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-top\",id:\"top\",\"data-handle-type\":\"top\"}),/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Left,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-left\",id:\"left\",\"data-handle-type\":\"left\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Right,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-right\",id:\"right\",\"data-handle-type\":\"right\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-sm\",style:textStyle,children:code}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium\",style:textStyle,children:label})]}),completed&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary text-primary-foreground rounded-full p-1\",children:/*#__PURE__*/_jsx(Check,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground line-clamp-2\",style:textStyle,children:description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-between items-center text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",style:textStyle,children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[credits,\" TC\"]})]}),showQuickToggle&&/*#__PURE__*/_jsx(\"button\",{onClick:handleQuickToggleClick,className:cn(\"text-xs px-2 py-0.5 rounded transition-colors\",completed?\"bg-primary/20 text-primary hover:bg-primary/30\":\"bg-muted text-muted-foreground hover:bg-muted/80\"),children:completed?\"Completed\":\"Complete\"})]}),completed&&formattedCompletionDate&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-[10px] text-muted-foreground text-right\",children:formattedCompletionDate}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-bottom\",id:\"bottom\",\"data-handle-type\":\"bottom\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-center\",id:\"center\",\"data-handle-type\":\"center\",style:{bottom:\"50%\",left:\"50%\",transform:\"translate(-50%, 0)\"}})]});});CourseNode.displayName=\"CourseNode\";export default CourseNode;","map":{"version":3,"names":["memo","Handle","Position","Check","FileText","cn","jsx","_jsx","jsxs","_jsxs","CourseNode","_ref","data","isConnectable","selected","label","code","description","category","credits","completed","nodeColor","nodeBgColor","fontFamily","fontSize","textColor","showQuickToggle","onQuickToggle","id","completedAt","categoryData","color","borderColor","textStyle","concat","undefined","handleQuickToggleClick","e","stopPropagation","formattedCompletionDate","Date","toLocaleDateString","toLocaleTimeString","hour","minute","className","style","borderLeftColor","borderLeftWidth","backgroundColor","children","type","position","Top","Left","Right","onClick","Bottom","bottom","left","transform","displayName"],"sources":["D:/CyberPath/it-roadmap/client/src/components/CourseNode.jsx"],"sourcesContent":["\"use client\";\n\nimport { memo } from \"react\";\nimport { Handle, Position } from \"reactflow\";\nimport { Check, FileText } from \"lucide-react\";\nimport { cn } from \"../lib/utils\";\n\nconst CourseNode = memo(({ data, isConnectable, selected }) => {\n  const {\n    label,\n    code,\n    description,\n    category,\n    credits,\n    completed,\n    nodeColor,\n    nodeBgColor,\n    fontFamily,\n    fontSize,\n    textColor,\n    showQuickToggle,\n    onQuickToggle,\n    id,\n    completedAt,\n  } = data;\n\n  // Find the category color from the categories array or use custom node color\n  const categoryData = data.categoryData || { color: \"#94a3b8\" };\n  const borderColor = nodeColor || categoryData.color;\n\n  // Text styling\n  const textStyle = {\n    fontFamily: fontFamily || \"inherit\",\n    fontSize: fontSize ? `${fontSize}px` : undefined,\n    color: textColor || \"inherit\",\n  };\n\n  // Handle quick toggle click with proper event stopping\n  const handleQuickToggleClick = (e) => {\n    e.stopPropagation();\n    if (onQuickToggle && id) {\n      onQuickToggle(id, !completed);\n    }\n  };\n\n  // Format completion date\n  const formattedCompletionDate = completedAt\n    ? new Date(completedAt).toLocaleDateString() +\n      \" \" +\n      new Date(completedAt).toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })\n    : null;\n\n  return (\n    <div\n      className={cn(\n        \"px-4 py-2 shadow-md rounded-md border w-48 bg-card transition-colors duration-300\",\n        completed && \"ring-2 ring-primary ring-offset-2\",\n        selected && \"ring-2 ring-primary ring-offset-2\"\n      )}\n      style={{\n        borderLeftColor: borderColor,\n        borderLeftWidth: \"4px\",\n        backgroundColor: nodeBgColor || undefined,\n      }}\n    >\n      {/* Top handle - consistent ID */}\n      <Handle\n        type=\"target\"\n        position={Position.Top}\n        isConnectable={isConnectable}\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-top\"\n        id=\"top\"\n        data-handle-type=\"top\"\n      />\n\n      {/* Left handle - consistent ID */}\n      <Handle\n        type=\"target\"\n        position={Position.Left}\n        isConnectable={isConnectable}\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-left\"\n        id=\"left\"\n        data-handle-type=\"left\"\n      />\n\n      {/* Right handle - consistent ID */}\n      <Handle\n        type=\"source\"\n        position={Position.Right}\n        isConnectable={isConnectable}\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-right\"\n        id=\"right\"\n        data-handle-type=\"right\"\n      />\n\n      <div className=\"flex justify-between items-start\">\n        <div>\n          <div className=\"font-bold text-sm\" style={textStyle}>\n            {code}\n          </div>\n          <div className=\"text-xs font-medium\" style={textStyle}>\n            {label}\n          </div>\n        </div>\n        {completed && (\n          <div className=\"bg-primary text-primary-foreground rounded-full p-1\">\n            <Check className=\"h-3 w-3\" />\n          </div>\n        )}\n      </div>\n\n      <div className=\"mt-2\">\n        <p\n          className=\"text-xs text-muted-foreground line-clamp-2\"\n          style={textStyle}\n        >\n          {description}\n        </p>\n      </div>\n\n      <div className=\"mt-2 flex justify-between items-center text-xs\">\n        <div className=\"flex items-center gap-1\" style={textStyle}>\n          <FileText className=\"h-3 w-3\" />\n          <span>{credits} TC</span>\n        </div>\n\n        {/* Quick completion toggle */}\n        {showQuickToggle && (\n          <button\n            onClick={handleQuickToggleClick}\n            className={cn(\n              \"text-xs px-2 py-0.5 rounded transition-colors\",\n              completed\n                ? \"bg-primary/20 text-primary hover:bg-primary/30\"\n                : \"bg-muted text-muted-foreground hover:bg-muted/80\"\n            )}\n          >\n            {completed ? \"Completed\" : \"Complete\"}\n          </button>\n        )}\n      </div>\n\n      {completed && formattedCompletionDate && (\n        <div className=\"mt-1 text-[10px] text-muted-foreground text-right\">\n          {formattedCompletionDate}\n        </div>\n      )}\n\n      {/* Bottom handle - consistent ID */}\n      <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        isConnectable={isConnectable}\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-bottom\"\n        id=\"bottom\"\n        data-handle-type=\"bottom\"\n      />\n\n      {/* Center handle for more connection options - fixed position and style */}\n      <Handle\n        type=\"source\"\n        position={Position.Bottom}\n        isConnectable={isConnectable}\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-center\"\n        id=\"center\"\n        data-handle-type=\"center\"\n        style={{\n          bottom: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%, 0)\",\n        }}\n      />\n    </div>\n  );\n});\n\nCourseNode.displayName = \"CourseNode\";\n\nexport default CourseNode;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}