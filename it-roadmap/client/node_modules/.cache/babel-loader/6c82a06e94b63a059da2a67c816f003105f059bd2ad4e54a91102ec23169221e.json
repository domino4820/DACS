{"ast":null,"code":"\"use client\";import{memo}from\"react\";import{Handle,Position}from\"reactflow\";import{Check,FileText}from\"lucide-react\";import{cn}from\"../lib/utils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseNode=/*#__PURE__*/memo(_ref=>{let{data,isConnectable,selected}=_ref;const{label,code,description,category,credits,completed,nodeColor,nodeBgColor,fontFamily,fontSize,textColor,showQuickToggle,onQuickToggle,id,completedAt}=data;// Find the category color from the categories array or use custom node color\nconst categoryData=data.categoryData||{color:\"#94a3b8\"};const borderColor=nodeColor||categoryData.color;// Text styling\nconst textStyle={fontFamily:fontFamily||\"inherit\",fontSize:fontSize?\"\".concat(fontSize,\"px\"):undefined,color:textColor||\"inherit\"};// Handle quick toggle click with proper event stopping\nconst handleQuickToggleClick=e=>{e.stopPropagation();if(onQuickToggle&&id){onQuickToggle(id,!completed);}};// Format completion date\nconst formattedCompletionDate=completedAt?new Date(completedAt).toLocaleDateString()+\" \"+new Date(completedAt).toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"}):null;return/*#__PURE__*/_jsxs(\"div\",{className:cn(\"px-4 py-2 shadow-md rounded-none border w-48 bg-card transition-colors duration-300\",// Changed rounded-md to rounded-none\ncompleted&&\"ring-2 ring-primary ring-offset-background\",// Changed ring-offset-2 to ring-offset-background\nselected&&\"ring-2 ring-primary ring-offset-background\"// Changed ring-offset-2 to ring-offset-background\n),style:{borderLeftColor:borderColor,borderLeftWidth:\"4px\",backgroundColor:nodeBgColor||undefined},children:[/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Top,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-top\",id:\"top\",\"data-handle-type\":\"top\"}),/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Left,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-left\",id:\"left\",\"data-handle-type\":\"left\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Right,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-right\",id:\"right\",\"data-handle-type\":\"right\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-sm\",style:textStyle,children:code}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium\",style:textStyle,children:label})]}),completed&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary text-primary-foreground rounded-full p-1\",children:/*#__PURE__*/_jsx(Check,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground line-clamp-2\",style:textStyle,children:description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-between items-center text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",style:textStyle,children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[credits,\" TC\"]})]}),showQuickToggle&&/*#__PURE__*/_jsx(\"button\",{onClick:handleQuickToggleClick,className:cn(\"text-xs px-2 py-0.5 rounded-sm transition-colors\",// Changed rounded to rounded-sm\ncompleted?\"bg-primary/20 text-primary hover:bg-primary/30\":\"bg-muted text-muted-foreground hover:bg-muted/80\"),children:completed?\"Completed\":\"Complete\"})]}),completed&&formattedCompletionDate&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-[10px] text-muted-foreground text-right\",children:formattedCompletionDate}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-bottom\",id:\"bottom\",\"data-handle-type\":\"bottom\"}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom,isConnectable:isConnectable,className:\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-center\",id:\"center\",\"data-handle-type\":\"center\",style:{bottom:\"50%\",left:\"50%\",transform:\"translate(-50%, 0)\"}})]});});CourseNode.displayName=\"CourseNode\";export default CourseNode;","map":{"version":3,"names":["memo","Handle","Position","Check","FileText","cn","jsx","_jsx","jsxs","_jsxs","CourseNode","_ref","data","isConnectable","selected","label","code","description","category","credits","completed","nodeColor","nodeBgColor","fontFamily","fontSize","textColor","showQuickToggle","onQuickToggle","id","completedAt","categoryData","color","borderColor","textStyle","concat","undefined","handleQuickToggleClick","e","stopPropagation","formattedCompletionDate","Date","toLocaleDateString","toLocaleTimeString","hour","minute","className","style","borderLeftColor","borderLeftWidth","backgroundColor","children","type","position","Top","Left","Right","onClick","Bottom","bottom","left","transform","displayName"],"sources":["D:/demo/DACS-jules_wip_16596734084587186652/it-roadmap/client/src/components/CourseNode.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { memo } from \"react\";\r\nimport { Handle, Position } from \"reactflow\";\r\nimport { Check, FileText } from \"lucide-react\";\r\nimport { cn } from \"../lib/utils\";\r\n\r\nconst CourseNode = memo(({ data, isConnectable, selected }) => {\r\n  const {\r\n    label,\r\n    code,\r\n    description,\r\n    category,\r\n    credits,\r\n    completed,\r\n    nodeColor,\r\n    nodeBgColor,\r\n    fontFamily,\r\n    fontSize,\r\n    textColor,\r\n    showQuickToggle,\r\n    onQuickToggle,\r\n    id,\r\n    completedAt,\r\n  } = data;\r\n\r\n  // Find the category color from the categories array or use custom node color\r\n  const categoryData = data.categoryData || { color: \"#94a3b8\" };\r\n  const borderColor = nodeColor || categoryData.color;\r\n\r\n  // Text styling\r\n  const textStyle = {\r\n    fontFamily: fontFamily || \"inherit\",\r\n    fontSize: fontSize ? `${fontSize}px` : undefined,\r\n    color: textColor || \"inherit\",\r\n  };\r\n\r\n  // Handle quick toggle click with proper event stopping\r\n  const handleQuickToggleClick = (e) => {\r\n    e.stopPropagation();\r\n    if (onQuickToggle && id) {\r\n      onQuickToggle(id, !completed);\r\n    }\r\n  };\r\n\r\n  // Format completion date\r\n  const formattedCompletionDate = completedAt\r\n    ? new Date(completedAt).toLocaleDateString() +\r\n      \" \" +\r\n      new Date(completedAt).toLocaleTimeString([], {\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n      })\r\n    : null;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"px-4 py-2 shadow-md rounded-none border w-48 bg-card transition-colors duration-300\", // Changed rounded-md to rounded-none\r\n        completed && \"ring-2 ring-primary ring-offset-background\", // Changed ring-offset-2 to ring-offset-background\r\n        selected && \"ring-2 ring-primary ring-offset-background\" // Changed ring-offset-2 to ring-offset-background\r\n      )}\r\n      style={{\r\n        borderLeftColor: borderColor,\r\n        borderLeftWidth: \"4px\",\r\n        backgroundColor: nodeBgColor || undefined,\r\n      }}\r\n    >\r\n      {/* Top handle - consistent ID */}\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Top}\r\n        isConnectable={isConnectable}\r\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-top\"\r\n        id=\"top\"\r\n        data-handle-type=\"top\"\r\n      />\r\n\r\n      {/* Left handle - consistent ID */}\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Left}\r\n        isConnectable={isConnectable}\r\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-left\"\r\n        id=\"left\"\r\n        data-handle-type=\"left\"\r\n      />\r\n\r\n      {/* Right handle - consistent ID */}\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Right}\r\n        isConnectable={isConnectable}\r\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-right\"\r\n        id=\"right\"\r\n        data-handle-type=\"right\"\r\n      />\r\n\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <div className=\"font-bold text-sm\" style={textStyle}>\r\n            {code}\r\n          </div>\r\n          <div className=\"text-xs font-medium\" style={textStyle}>\r\n            {label}\r\n          </div>\r\n        </div>\r\n        {completed && (\r\n          <div className=\"bg-primary text-primary-foreground rounded-full p-1\">\r\n            <Check className=\"h-3 w-3\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-2\">\r\n        <p\r\n          className=\"text-xs text-muted-foreground line-clamp-2\"\r\n          style={textStyle}\r\n        >\r\n          {description}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-2 flex justify-between items-center text-xs\">\r\n        <div className=\"flex items-center gap-1\" style={textStyle}>\r\n          <FileText className=\"h-3 w-3\" />\r\n          <span>{credits} TC</span>\r\n        </div>\r\n\r\n        {/* Quick completion toggle */}\r\n        {showQuickToggle && (\r\n          <button\r\n            onClick={handleQuickToggleClick}\r\n            className={cn(\r\n              \"text-xs px-2 py-0.5 rounded-sm transition-colors\", // Changed rounded to rounded-sm\r\n              completed\r\n                ? \"bg-primary/20 text-primary hover:bg-primary/30\"\r\n                : \"bg-muted text-muted-foreground hover:bg-muted/80\"\r\n            )}\r\n          >\r\n            {completed ? \"Completed\" : \"Complete\"}\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {completed && formattedCompletionDate && (\r\n        <div className=\"mt-1 text-[10px] text-muted-foreground text-right\">\r\n          {formattedCompletionDate}\r\n        </div>\r\n      )}\r\n\r\n      {/* Bottom handle - consistent ID */}\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Bottom}\r\n        isConnectable={isConnectable}\r\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-bottom\"\r\n        id=\"bottom\"\r\n        data-handle-type=\"bottom\"\r\n      />\r\n\r\n      {/* Center handle for more connection options - fixed position and style */}\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Bottom}\r\n        isConnectable={isConnectable}\r\n        className=\"w-3 h-3 !bg-primary transition-all duration-300 hover:!w-4 hover:!h-4 connection-handle connection-handle-center\"\r\n        id=\"center\"\r\n        data-handle-type=\"center\"\r\n        style={{\r\n          bottom: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, 0)\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nCourseNode.displayName = \"CourseNode\";\r\n\r\nexport default CourseNode;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}