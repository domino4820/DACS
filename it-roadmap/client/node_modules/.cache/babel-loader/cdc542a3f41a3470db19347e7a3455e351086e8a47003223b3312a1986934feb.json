{"ast":null,"code":"/**\r\n * Xử lý lỗi ResizeObserver loop trong ReactFlow\r\n * Lỗi này không ảnh hưởng đến chức năng hoạt động của ứng dụng\r\n * nhưng gây ra cảnh báo khó chịu trong console\r\n */export function applyResizeObserverFix(){if(typeof window===\"undefined\"){return;// Không áp dụng trên server-side rendering\n}// Ghi đè phương thức error của console để lọc các cảnh báo ResizeObserver\nconst originalConsoleError=console.error;console.error=function(){var _args$,_args$$message,_args$$message$includ,_args$2,_args$2$toString,_args$2$toString$call,_args$2$toString$call2;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}// Kiểm tra các dạng thông báo lỗi khác nhau\nif(args[0]&&(typeof args[0]===\"string\"&&args[0].includes(\"ResizeObserver loop\")||(_args$=args[0])!==null&&_args$!==void 0&&(_args$$message=_args$.message)!==null&&_args$$message!==void 0&&(_args$$message$includ=_args$$message.includes)!==null&&_args$$message$includ!==void 0&&_args$$message$includ.call(_args$$message,\"ResizeObserver loop\")||(_args$2=args[0])!==null&&_args$2!==void 0&&(_args$2$toString=_args$2.toString)!==null&&_args$2$toString!==void 0&&(_args$2$toString$call=(_args$2$toString$call2=_args$2$toString.call(_args$2)).includes)!==null&&_args$2$toString$call!==void 0&&_args$2$toString$call.call(_args$2$toString$call2,\"ResizeObserver loop\"))){// Bỏ qua lỗi ResizeObserver loop\nreturn;}// Gọi phương thức gốc cho các lỗi khác\noriginalConsoleError.apply(console,args);};// Hỗ trợ đặc biệt cho ReactFlow khi nó sử dụng ResizeObserver\nif(window.ResizeObserver){// Lưu triển khai ResizeObserver gốc\nconst OriginalResizeObserver=window.ResizeObserver;// Ghi đè với phiên bản xử lý lỗi tốt hơn\nwindow.ResizeObserver=class EnhancedResizeObserver extends OriginalResizeObserver{constructor(callback){// Bọc callback với xử lý lỗi\nconst wrappedCallback=(entries,observer)=>{// Debounce resize events to reduce frequency\nif(this._timeout){clearTimeout(this._timeout);}this._timeout=setTimeout(()=>{try{callback(entries,observer);}catch(error){if(!String(error).includes(\"ResizeObserver loop\")){throw error;// Chỉ bắt lỗi ResizeObserver\n}// Otherwise silently ignore the error\n}},20);// Small delay to batch resize events\n};super(wrappedCallback);this._timeout=null;}disconnect(){if(this._timeout){clearTimeout(this._timeout);this._timeout=null;}super.disconnect();}// Override observe to add additional error handling\nobserve(target,options){try{return super.observe(target,options);}catch(error){console.warn(\"ResizeObserver error caught:\",error);// Continue execution, don't break the app\n}}};}// Also handle error events globally\nwindow.addEventListener(\"error\",event=>{if(event.message&&event.message.includes(\"ResizeObserver loop\")){event.stopImmediatePropagation();event.preventDefault();return true;}},true);console.log(\"✅ Enhanced ResizeObserver fix applied\");}export default applyResizeObserverFix;","map":{"version":3,"names":["applyResizeObserverFix","window","originalConsoleError","console","error","_args$","_args$$message","_args$$message$includ","_args$2","_args$2$toString","_args$2$toString$call","_args$2$toString$call2","_len","arguments","length","args","Array","_key","includes","message","call","toString","apply","ResizeObserver","OriginalResizeObserver","EnhancedResizeObserver","constructor","callback","wrappedCallback","entries","observer","_timeout","clearTimeout","setTimeout","String","disconnect","observe","target","options","warn","addEventListener","event","stopImmediatePropagation","preventDefault","log"],"sources":["D:/demo/DACS-jules_wip_16596734084587186652/it-roadmap/client/src/utils/resizeObserverFix.js"],"sourcesContent":["/**\r\n * Xử lý lỗi ResizeObserver loop trong ReactFlow\r\n * Lỗi này không ảnh hưởng đến chức năng hoạt động của ứng dụng\r\n * nhưng gây ra cảnh báo khó chịu trong console\r\n */\r\n\r\nexport function applyResizeObserverFix() {\r\n  if (typeof window === \"undefined\") {\r\n    return; // Không áp dụng trên server-side rendering\r\n  }\r\n\r\n  // Ghi đè phương thức error của console để lọc các cảnh báo ResizeObserver\r\n  const originalConsoleError = console.error;\r\n  console.error = (...args) => {\r\n    // Kiểm tra các dạng thông báo lỗi khác nhau\r\n    if (\r\n      args[0] &&\r\n      ((typeof args[0] === \"string\" &&\r\n        args[0].includes(\"ResizeObserver loop\")) ||\r\n        args[0]?.message?.includes?.(\"ResizeObserver loop\") ||\r\n        args[0]?.toString?.().includes?.(\"ResizeObserver loop\"))\r\n    ) {\r\n      // Bỏ qua lỗi ResizeObserver loop\r\n      return;\r\n    }\r\n    // Gọi phương thức gốc cho các lỗi khác\r\n    originalConsoleError.apply(console, args);\r\n  };\r\n\r\n  // Hỗ trợ đặc biệt cho ReactFlow khi nó sử dụng ResizeObserver\r\n  if (window.ResizeObserver) {\r\n    // Lưu triển khai ResizeObserver gốc\r\n    const OriginalResizeObserver = window.ResizeObserver;\r\n\r\n    // Ghi đè với phiên bản xử lý lỗi tốt hơn\r\n    window.ResizeObserver = class EnhancedResizeObserver extends (\r\n      OriginalResizeObserver\r\n    ) {\r\n      constructor(callback) {\r\n        // Bọc callback với xử lý lỗi\r\n        const wrappedCallback = (entries, observer) => {\r\n          // Debounce resize events to reduce frequency\r\n          if (this._timeout) {\r\n            clearTimeout(this._timeout);\r\n          }\r\n\r\n          this._timeout = setTimeout(() => {\r\n            try {\r\n              callback(entries, observer);\r\n            } catch (error) {\r\n              if (!String(error).includes(\"ResizeObserver loop\")) {\r\n                throw error; // Chỉ bắt lỗi ResizeObserver\r\n              }\r\n              // Otherwise silently ignore the error\r\n            }\r\n          }, 20); // Small delay to batch resize events\r\n        };\r\n\r\n        super(wrappedCallback);\r\n        this._timeout = null;\r\n      }\r\n\r\n      disconnect() {\r\n        if (this._timeout) {\r\n          clearTimeout(this._timeout);\r\n          this._timeout = null;\r\n        }\r\n        super.disconnect();\r\n      }\r\n\r\n      // Override observe to add additional error handling\r\n      observe(target, options) {\r\n        try {\r\n          return super.observe(target, options);\r\n        } catch (error) {\r\n          console.warn(\"ResizeObserver error caught:\", error);\r\n          // Continue execution, don't break the app\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  // Also handle error events globally\r\n  window.addEventListener(\r\n    \"error\",\r\n    (event) => {\r\n      if (event.message && event.message.includes(\"ResizeObserver loop\")) {\r\n        event.stopImmediatePropagation();\r\n        event.preventDefault();\r\n        return true;\r\n      }\r\n    },\r\n    true\r\n  );\r\n\r\n  console.log(\"✅ Enhanced ResizeObserver fix applied\");\r\n}\r\n\r\nexport default applyResizeObserverFix;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}