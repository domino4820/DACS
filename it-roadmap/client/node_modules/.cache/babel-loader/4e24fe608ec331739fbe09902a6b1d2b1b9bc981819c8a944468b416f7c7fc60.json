{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{Button}from\"../components/ui/button\";import{Input}from\"../components/ui/input\";import{Label}from\"../components/ui/label\";import{Card,CardContent,CardDescription,CardFooter,CardHeader,CardTitle}from\"../components/ui/card\";import{useToast}from\"../components/ui/use-toast\";import{typeText}from\"../lib/animations\";import{Alert,AlertDescription}from\"../components/ui/alert\";import{InfoIcon}from\"lucide-react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function LoginPage(){const navigate=useNavigate();const{login,devMode}=useAuth();const{toast}=useToast();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);useEffect(()=>{// Apply typing effect to title\ntypeText(\".login-title\",null,800);// Animation temporarily disabled\n/* Subtle card animation\r\n    const loginCard = document.querySelector(\".login-card\");\r\n    if (loginCard) {\r\n      // Animation code removed due to compatibility issues\r\n    } */},[]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(\"\");try{await login({email,password});toast({title:\"Login successful\",description:\"You have been logged in successfully.\"});navigate(\"/\");}catch(err){setError(err.message||\"Failed to login\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container flex items-center justify-center min-h-[80vh] py-8\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md login-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"space-y-2 pb-4\",children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"text-2xl font-bold font-heading text-primary login-title\",children:[\" \",\"Login\"]}),/*#__PURE__*/_jsx(CardDescription,{className:\"text-muted-foreground\",children:\"Enter your credentials to access your account\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-6 pt-6\",children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"destructive\",children:/*#__PURE__*/_jsx(AlertDescription,{children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",className:\"text-sm font-medium text-foreground\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",type:\"email\",placeholder:\"your@email.com\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",className:\"text-sm font-medium text-foreground\",children:\"Password\"}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"text-xs text-primary hover:text-primary/90\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(Input,{id:\"password\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:password,onChange:e=>setPassword(e.target.value),required:true})]})]}),/*#__PURE__*/_jsxs(CardFooter,{className:\"flex flex-col pt-2\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-full\",variant:\"default\",disabled:loading,children:loading?\"Signing in...\":\"Sign In\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-center text-sm text-muted-foreground\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary hover:text-primary/90\",children:\"Sign up\"})]})]})]}),devMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md bg-muted p-3 mt-4 mx-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"\\u5F00\\u53D1\\u6A21\\u5F0F\\u767B\\u5F55\\u63D0\\u793A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-muted-foreground mt-1\",children:\"\\u4F7F\\u7528\\u5305\\u542B \\\"admin\\\" \\u7684\\u90AE\\u7BB1\\uFF08\\u4F8B\\u5982 admin@example.com\\uFF09\\u53EF\\u4EE5\\u767B\\u5F55\\u4E3A\\u7BA1\\u7406\\u5458\\u8D26\\u6237\\u3002\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-primary mt-1 cursor-pointer\",onClick:()=>{setEmail(\"admin@example.com\");setPassword(\"password123\");},children:\"\\u70B9\\u51FB\\u6B64\\u5904\\u586B\\u5199\\u7BA1\\u7406\\u5458\\u793A\\u4F8B\\u8D26\\u6237\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","useAuth","Button","Input","Label","Card","CardContent","CardDescription","CardFooter","CardHeader","CardTitle","useToast","typeText","Alert","AlertDescription","InfoIcon","jsxs","_jsxs","jsx","_jsx","LoginPage","navigate","login","devMode","toast","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","title","description","err","message","className","children","onSubmit","variant","htmlFor","id","type","placeholder","value","onChange","target","required","to","disabled","onClick"],"sources":["D:/demo/DACS-jules_wip_16596734084587186652/it-roadmap/client/src/pages/LoginPage.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { Button } from \"../components/ui/button\";\r\nimport { Input } from \"../components/ui/input\";\r\nimport { Label } from \"../components/ui/label\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"../components/ui/card\";\r\nimport { useToast } from \"../components/ui/use-toast\";\r\nimport { typeText } from \"../lib/animations\";\r\nimport { Alert, AlertDescription } from \"../components/ui/alert\";\r\nimport { InfoIcon } from \"lucide-react\";\r\n\r\nexport default function LoginPage() {\r\n  const navigate = useNavigate();\r\n  const { login, devMode } = useAuth();\r\n  const { toast } = useToast();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Apply typing effect to title\r\n    typeText(\".login-title\", null, 800);\r\n\r\n    // Animation temporarily disabled\r\n    /* Subtle card animation\r\n    const loginCard = document.querySelector(\".login-card\");\r\n    if (loginCard) {\r\n      // Animation code removed due to compatibility issues\r\n    } */\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      await login({ email, password });\r\n      toast({\r\n        title: \"Login successful\",\r\n        description: \"You have been logged in successfully.\",\r\n      });\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to login\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container flex items-center justify-center min-h-[80vh] py-8\">\r\n      <Card className=\"w-full max-w-md login-card\">\r\n        <CardHeader className=\"space-y-2 pb-4\">\r\n          <CardTitle className=\"text-2xl font-bold font-heading text-primary login-title\">\r\n            {\" \"}\r\n            {/* Added font-heading */}\r\n            Login\r\n          </CardTitle>\r\n          <CardDescription className=\"text-muted-foreground\">\r\n            Enter your credentials to access your account\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <form onSubmit={handleSubmit}>\r\n          <CardContent className=\"space-y-6 pt-6\">\r\n            {error && (\r\n              <Alert variant=\"destructive\">\r\n                <AlertDescription>{error}</AlertDescription>\r\n              </Alert>\r\n            )}\r\n\r\n            <div className=\"space-y-3\">\r\n              <Label\r\n                htmlFor=\"email\"\r\n                className=\"text-sm font-medium text-foreground\"\r\n              >\r\n                Email\r\n              </Label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"your@email.com\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label\r\n                  htmlFor=\"password\"\r\n                  className=\"text-sm font-medium text-foreground\"\r\n                >\r\n                  Password\r\n                </Label>\r\n                <Link\r\n                  to=\"/forgot-password\"\r\n                  className=\"text-xs text-primary hover:text-primary/90\"\r\n                >\r\n                  Forgot password?\r\n                </Link>\r\n              </div>\r\n              <Input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"••••••••\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n          </CardContent>\r\n          <CardFooter className=\"flex flex-col pt-2\">\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"w-full\"\r\n              variant=\"default\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Signing in...\" : \"Sign In\"}\r\n            </Button>\r\n            <p className=\"mt-4 text-center text-sm text-muted-foreground\">\r\n              Don't have an account?{\" \"}\r\n              <Link\r\n                to=\"/register\"\r\n                className=\"text-primary hover:text-primary/90\"\r\n              >\r\n                Sign up\r\n              </Link>\r\n            </p>\r\n          </CardFooter>\r\n        </form>\r\n\r\n        {devMode && (\r\n          <div className=\"rounded-md bg-muted p-3 mt-4 mx-6\">\r\n            <div className=\"text-sm font-medium\">开发模式登录提示</div>\r\n            <div className=\"text-xs text-muted-foreground mt-1\">\r\n              使用包含 \"admin\" 的邮箱（例如\r\n              admin@example.com）可以登录为管理员账户。\r\n            </div>\r\n            <div\r\n              className=\"text-xs text-primary mt-1 cursor-pointer\"\r\n              onClick={() => {\r\n                setEmail(\"admin@example.com\");\r\n                setPassword(\"password123\");\r\n              }}\r\n            >\r\n              点击此处填写管理员示例账户\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}